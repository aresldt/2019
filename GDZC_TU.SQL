DROP TRIGGER  YFCLK.YFBPCS_TU;

CREATE TRIGGER YFCLK.YFBPCS_TU 
	AFTER UPDATE ON YFCLK.YFBPCS
	REFERENCING OLD AS OLDROW 
	NEW AS NEWROW 
	FOR EACH ROW 
	MODE DB2ROW 
	SET OPTION  ALWBLK = *ALLREAD , 
	ALWCPYDTA = *OPTIMIZE , 
	COMMIT = *NONE , 
	CLOSQLCSR = *ENDMOD , 
	DECRESULT = (31, 31, 00) , 
	DFTRDBCOL = *NONE , 
	DYNDFTCOL = *NO , 
	DYNUSRPRF = *USER , 
	SRTSEQ = *HEX   
	WHEN ( OLDROW . BPSTAT <> NEWROW . BPSTAT )
 
	BEGIN ATOMIC 
INSERT INTO YFCLK . YFBPLOG ( PGPID , PGTABLE , PGENDT, PGOSTAT, PGNSTAT ) VALUES ( NEWROW . BPPID , NEWROW . BPTABLE , QSYS2 . CHAR ( QSYS2 . NOW ( ) ), OLDROW . BPSTAT , NEWROW . BPSTAT ) ; 
END  ;